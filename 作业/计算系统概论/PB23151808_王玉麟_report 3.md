# lab3
### Purpose
> 写一个回文的判断程序，字符数N储存在x3100，字符储存在x3101开始的连续N个内存中，x3200存放最终结果（回文为1，否则为0）.默认无字符时为回文

### Principles
之前c语言写过，所以这次上手也很快，~~甚至不需要用栈~~
**寄存器用途如下：**
	R0储存N
	R1，R2分别储存头指针和尾指针
	R3，R4分别储存头指针和尾指针指向的内容
	R5用于比较R3，R4是否相同
	R6用于储存回文判断结果，最后将结果放到x3200
	R7用于计算R1-R2，≥0则回文判断结束

### Procedure
#### 关于伪指令
一开始是用`ST R6,RESULT`将R6储存到x3200（`RESULT .FILL x3200`），结果报错了，后来发现，如果要访问x3200，需要用`STI R6 RESULT`,因为汇编码最后的`RESULT`相当于一个指针，如果要借助`RESULT`访问，则需要`STI`而非`ST`，访问指针指向的指针
#### BRnzp好还是JMP好？
BR是偏移量寻址，JMP是寄存器寻址
故`BR END`不会报错而`JMP END`会报错(`END TRAP x25`)，如果将END存入R1，并写`JMP R1`，则不会报错，并且可正确跳转。
二者到不存在哪个好哪个不好，理论上BR访问的范围没有JMP大，因为BR有9位偏移量的限制。

### Result
![[Pasted image 20241201222558.png]]
